### Условие

Всеки от процесите $P$, $Q$ и $R$ изпълнява поредица от инструкции:

|  $P$  |  $Q$  |  $R$  |
|-------|-------|-------|
| $p_1$ | $q_1$ | $r_1$ |
| $p_2$ | $q_2$ | $r_2$ |

Процесите $P$ и $Q$ са единични, процесът $R$ се изпълнява в много копия.

Осигурете чрез семафори синхронизация на $P$, $Q$ и $R$ така, че да се изпълнят едновременно следните
изисквания:

• всички инструкции на $P$ и $Q$ да се изпълнят преди инструкция $r_1$ на всяко копие на $R$;

• процесите $P$ и $Q$ да се изпълнят ефикасно, т.е. да е възможно паралелното им изпълнение, без
да се изчакват.

Обосновете отговора си.

### Решение

| Initialize  |
|-------------|
| Semaphore s,r |
| s.init(0)   |
| r.init(0)   |

|  $P$  |  $Q$  |  $R$  |
|-------|-------|-------|
|          |            |  s.wait()|
|          |            |  r.wait()|
|          |            |  s.signal()|
|          |            |  r.signal()|
|$p_1$       |  $q_1$       |  $r_1$|
|$p_2$       |  $q_2$       |  $r_2$|
|s.signal()|  r.signal()||