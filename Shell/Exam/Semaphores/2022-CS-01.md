### Условие

Паралелно работещи копия на всеки от процесите $P$ и $Q$ изпълняват поредица от
две инструкции:

|  $P$  |  $Q$  |
|-------|-------|
| $p_1$ | $q_1$ | 
| $p_2$ | $q_2$ | 

Осигурете чрез семафори синхронизация на работещите копия така, че да се изпълнят едновременно
следните изисквания:

• в произволен момент от времето да работи най-много едно от копията;

• работещите копия да се редуват във времето – след изпълнение на копие на $P$, два пъти се
изпълнява копие на $Q$, и цикълът се повтаря – веднъж $P$, два пъти $Q$ и т.н.;

• първоначално е разрешено да се изпълни копие на $P$.

Упътване: Освен семафори, ползвайте и брояч.

### Решение

| Initialize  |
|-------------|
| Semaphore s,t |
| s.init() 1  |
| t.init(0)   |
| int cnt = 0 |

|  $P$  |  $Q$  |
|-------|-------|
|s.wait()   | t.wait()|
|$p_1$        | $q_1$ |
|$p_2$        | $q_2$|
|t.signal() | cnt=cnt+1|
|           |  if cnt == 2: cnt = 0 s.signal()<br>else t.signal()|





