### Условие

Множество паралелно работещи копия на всеки от процесите $P$, $Q$, $R$ и $W$ изпълняват
поредица от две инструкции:

|  $P$  |  $Q$  |  $R$  |  $W$  |
|-------|-------|-------|-------|
| $p_1$ | $q_1$ | $r_1$ | $w_1$ |
| $p_2$ | $q_2$ | $r_2$ | $w_2$ |

Осигурете чрез семафори синхронизация на работещите копия така, че да са изпълнени едновременно следните условия:

а) В произволен момент от времето да работи най-много едно от копията (един-единствен процес
глобално).

б) Работещите копия да се редуват във времето – първо се изпълнява копие на $P$ или $Q$. След
това трябва да се изпълни копие на $R$ или $W$. Следва ново изпълнение на копие на $P$ или $Q$ и
т.н.

Обосновете отговора си

### Решение


| Initialize  |
|-------------|
| Semaphore s,m |
| s.init(0)   |
| m.init(1)   |

|  $P$  |  $Q$  |  $R$  |  $W$  |
|-------|-------|-------|-------|
|m.wait()   | m.wait()   | s.wait()   | s.wait()|
|$p_1$        | $q_1$        | $r_1$        | $w_1$|
|$p_2$        | $q_2$        | $r_2$        | $w_2$|
|s.signal() | s.signal() | m.signal() | m.signal()|