### Условие

Множество паралелно работещи копия на всеки от процесите $P$ и $Q$ изпълняват
поредица от две инструкции:

| $P$   | $Q$   |
|-------|-------|
| $p_1$ | $q_1$ |
| $p_2$ | $q_2$ |

Осигурете чрез семафори синхронизация на работещите копия така, че да са изпълнени едновременно следните условия:

• в произволен момент от времето да работи най-много едно от копията;

• работещите копия да се редуват във времето – след изпълнение на копие на $P$ да следва
изпълнение на копие на $Q$ и обратно;

• първоначално е разрешено да се изпълни копие на $P$.

### Решение


| Initialize  |
|-------------|
| Semaphore s,m |
| s.init(0)   |
| m.init(1)   |

| $P$        | $Q$       |
|------------|-----------|
| m.wait()   | s.wait()  |
| $p_1$      | $q_1$     |
| $p_2$      | $q_2$     |
| s.signal() | t.signal()|