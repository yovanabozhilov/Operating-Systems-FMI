### Условие

Множество паралелно работещи копия на процеса $P$ изпълняват поредица от две
инструкции:

|  $P$  | 
|-------|
| $p_1$ | 
| $p_2$ | 

Осигурете чрез семафори синхронизация на работещите копия така, че да се изпълнят едновременно
следните изисквания:

• инструкцията $p_2$ на всяко от работещите копия да се изпълни след като инструкция $p_1$ е
завършила изпълнението си в поне 3 работещи копия.

Упътване: Освен семафори, ползвайте и брояч.


### Решение


| Initialize  |
|-------------|
| Semaphore s,t |
| s.init(1)   |
| t.init(0)   |


|  $P$  |
|-------|
|$p_1$|
|s.wait()|
|cnt = cnt + 1|
|if cnt == 3:<br>t.signal()|
|s.signal()|
|t.wait()|
|t.signal()|
|$p_2$|
