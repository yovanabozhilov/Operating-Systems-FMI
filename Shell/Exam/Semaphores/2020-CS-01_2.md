### Условие

Множество паралелно работещи копия на всеки от процесите $P$, $Q$ и $R$ изпълняват
поредица от две инструкции:

|  $P$  |  $Q$  |  $R$  |
|-------|-------|-------|
| $p_1$ | $q_1$ | $r_1$ |
| $p_2$ | $q_2$ | $r_2$ |

Осигурете чрез семафори синхронизация на $P$, $Q$ и $R$ така, че да се изпълнят едновременно следните
изисквания:

• в произволен момент от времето да работи най-много едно от копията.

• работещите копия да се редуват във времето – след изпълнение на копие на $P$ да се изпълни
копие на $Q$, после копие на $R$. Следва ново изпълнение на $P$ и т.н.

• първоначално е разрешено да се изпълни копие на $P$.


### Решение

| Initialize  |
|-------------|
| Semaphore s,m,r |
| s.init(0)   |
| m.init(1)   |
| r.init(0)   |



|  $P$  |  $Q$  |  $R$  |
|-------|-------|-------|
|m.wait()   | s.wait()   | r.wait()|
|$p_1$        | $q_1$        | $r_1$|
|$p_2$        | $q_2$        | $r_2$|
|s.signal() | r.signal() | m.signal()|
