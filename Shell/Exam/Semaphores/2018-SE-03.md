### Условие

Множество паралелно работещи копия на всеки от процесите $P$ и $Q$ изпълняват
поредица от три инструкции:

process $P$ process $Q$
|  $P$  |  $Q$  |
|-------|-------|
| $p_1$ | $q_1$ |
| $p_2$ | $q_2$ | 
| $p_3$ | $q_3$ |

Осигурете чрез семафори синхронизация на работещите копия, така че три инструкции – $p_1$, $q_2$
и $p_3$ се редуват циклично:

• първа се изпълнява инструкция $p_1$ на някое от работещите копия на процес $P$;

• след завършването ´и се изпълнява инструкция $q_2$ на някое копие на $Q$;

• след нея – $p_3$ на някое копие на $P$;

• с това едно минаване през цикъла завършва и отново може да се изпълни инструкция $p_1$ на
някое от работещите копия на процес $P$.


### Решение

| Initialize  |
|-------------|
| Semaphore s,m,r |
| s.init(0)   |
| m.init(1)   |
| r.init(0)   |

|  $P$  |  $Q$  |
|-------|-------|
|m.wait()||
|$p_1$         |$q_1$|
|s.signal() | s.wait()|
|$p_2$        | $q_2$|
|r.wait()   | r.signal()|
|$p_3$        | $q_3$|
|m.signal()||